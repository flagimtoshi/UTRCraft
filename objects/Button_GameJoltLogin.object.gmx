<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_button</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>Button_Template</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Text=get_string_ini("Buttons","Button_GameJoltLogin");
gj_init("377149", "8722727a009f0ecd0fca3a4cff51cb59");
request=0;
result=0;
clicked=0
scr_game_jolt_autoload();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>gj_session_ping(true);

alarm[0]=30*room_speed; // To continue pinging
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Button action
//gj_init("377149", "8722727a009f0ecd0fca3a4cff51cb59");
clicked=1
if ! instance_exists(obj_gamejolt_api){
o=instance_create(0,0,obj_gamejolt_api);
userDialog="";
    userDialogg="";
    userDialog = get_string_async("Username:","");
    
}else{
instance_create((view_wview/2)*3,view_hview/2,obj_popout_logout_GJ)
}
//if (gj_user_autologin()) // Try and auto login the user
//{
    //gj_session_open();
    //alarm[0]=30*room_speed;  // ping every 30 seconds
//}
//else // if you cannot auto login the user
//{
    
     //userDialogg = get_string_async("Username:","");
//}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="63">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i_d;  
i_d=ds_map_find_value(async_load,"id");  
if(i_d==userDialog)  
{  
    if(ds_map_find_value(async_load,"status"))  
    {  
        if(ds_map_find_value(async_load,"result") !="")  
        {  
            user=ds_map_find_value(async_load,"result");  
            userDialogg="";
            userDialogg=get_string_async("Token:    (not your password!)","");  
            userDialog=-1;  
        }  
    }  
}  
if(i_d==userDialogg)  
{  
    if(ds_map_find_value(async_load,"status"))  
    {  
        if(ds_map_find_value(async_load,"result") !="")  
        {  
            token=ds_map_find_value(async_load,"result");  
            request=gj_user_login(user,token);  
            userDialogg=-1;  
           // gj_trophy_add("134334");
        }  
    }  
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="62">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var result = gj_result_id();

if (result == request)
{
    if(gj_result_status())
    {
        if clicked=1{
        gj_session_open();
        alarm[0]=30*room_speed;
        gj_scores_add("383047",string(Money),string(Money),"");
        
        instance_create((view_wview/2)*3,view_hview/2,obj_popout_gamejolt);
        clicked=0;
        scr_game_jolt_autosave();
        gj_trophy_add("134334");
        Text=gj_user+get_string_ini("Buttons","Button_GameJoltLoggedin");
        Username=gj_user
        }else{
        
        gj_session_open();
        alarm[0]=30*room_speed;
        gj_scores_add("383047",string(Money),string(Money),"");
        scr_game_jolt_autosave();
        gj_trophy_add("134334");
        }
     }
}


gj_result_clear();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
