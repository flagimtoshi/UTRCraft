<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_slider_thing</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-3</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
file = file_find_first('music\*.ogg', fa_directory );
musicindex=0;
music[musicindex]="";

music_vol=1

while (file != '')
{
    //ds_list_add(world_array, file);
    //scr_message("Adding - '"+ file +"' - to character_array",600)
    music[musicindex]=audio_create_stream("music\"+file);
    show_debug_message("!    Adding '"+ file +"' to the Music List!");
    file = file_find_next();
    musicindex+=1;
    
    //oggmusic[musicindex]=audio_create_stream("music\"+music[musicindex])
    //show_debug_message("!    Success '"+ file +"' to the Music List!");
}

downloading=0
if musicindex=0{
downtxt="Downloading Music..."
downloading=1
MusicZip=http_get_file(musiclink,"music.zip")
}
progress=0
//alarm[0]=irandom_range(room_speed*(60*2),room_speed*(60*10))
current_tack=music[0]
is_playin=true
last_index=-1
time_until_play=1//irandom_range(room_speed*(60*1),room_speed*(60*2))
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///load menu music
if directory_exists('music\menu\'){
menumusic_is_play=true
}else{
menumusic_is_play=false
}


mfile = file_find_first('music\menu\*.ogg', fa_directory );
menumusicindex=0;
menumusic[menumusicindex]="";
while (mfile != '')
{
    menumusic[menumusicindex]=audio_create_stream("music\menu\"+mfile);
    show_debug_message("!    Adding '"+ mfile +"' to the MenuMusic List! at "+string(menumusic[menumusicindex]));
    mfile = file_find_next();
    menumusicindex+=1;
}
//menu_last_index=-1
menuindexy=0
menuplaying=0


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>is_playin = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room=intro{exit;}

if instance_exists(obj_player){
if ! is_playin{

indexy=irandom(musicindex-1)
if last_index=indexy{exit}else{last_index=indexy}

current_tack=music[indexy]
show_debug_message("Played Music" + string(current_hour)+":"+string(current_minute)+":"+string(current_second))
audio_play_sound(current_tack,11,0)
//audio_sound_gain(current_tack, music_vol, 0);
is_playin = true;
}
if ! audio_is_playing(current_tack){
if alarm[0]=-1{
randomize();
time_until_play=irandom_range(room_speed*(60*2),room_speed*(60*6))
alarm[0]=time_until_play
show_debug_message(time_until_play/room_speed/60)
}
//is_playin = false;
}
}else{

      if menuplaying=0{
      if (menumusicindex!=0) and (menumusic_is_play){
      
      randomize()
      menuindexy=irandom(menumusicindex-1)
      if last_index=menuindexy{exit}else{last_index=menuindexy}
      audio_play_sound(menumusic[menuindexy],11,0)
      //audio_sound_gain(menumusic[menuindexy], music_vol, 0);
      menuplaying=1
      
      if !audio_is_playing(menumusic[menuindexy]){
      menuplaying=0
      }
      
      }
      }else{
      if !audio_is_playing(menumusic[menuindexy]){
      menuplaying=0
      }
      }

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///set volume

//music_vol+=keyboard_check(ord("2"))/100
//music_vol-=keyboard_check(ord("3"))/100

audio_sound_gain(menumusic[menuindexy], music_vol, 0);
audio_sound_gain(current_tack, music_vol, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="62">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if downloading{
if ds_map_find_value(async_load, "id") == MusicZip
{
    var status = ds_map_find_value(async_load, "status");
    if status == 0
    {
        var path = ds_map_find_value(async_load, "result");
        if file_exists("music.zip"){
        
        zip_unzip("music.zip","music/")
        file_delete("music.zip")
        game_restart();
        
        show_debug_message("File downloaded: " + string(path) + " as "+ "music.zip");
        
        }
    }else{
    downtxt="Downloading Music..."+ string(ds_map_find_value(async_load, "sizeDownloaded")/ds_map_find_value(async_load, "contentLength")*100)+"%"
    progress=ds_map_find_value(async_load, "sizeDownloaded")/ds_map_find_value(async_load, "contentLength")
    }
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if downloading{
if instance_exists(obj_logo_intro){
obj_logo_intro.Progress=clamp(obj_logo_intro.Progress,0,progress);
}
draw_set_colour(c_white)
draw_set_halign(fa_center)
draw_set_valign(fa_middle)
draw_set_font(fnt_pixels)
//if ds_map_find_value(async_load, "id") == MusicZip{
//downtxt="Downloading Music..."+ string(ds_map_find_value(async_load, "sizeDownloaded"))
//}else{
//downtxt="Downloading Music..."
//}
draw_text_transformed(obj_logo_intro.x,obj_logo_intro.y+320,downtxt,4,4,0)
draw_set_halign(fa_left)
draw_set_valign(fa_top)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
